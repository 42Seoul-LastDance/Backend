(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[593],{2747:function(e,t,n){Promise.resolve().then(n.bind(n,4359))},267:function(e,t,n){"use strict";n.d(t,{oV:function(){return r},tO:function(){return c},wH:function(){return s}});var o=n(5726);let s=(0,o.oM)({name:"match",initialState:{isCustom:!1,isMatched:!1,side:""},reducers:{setIsCustom:(e,t)=>{e.isCustom=t.payload.isCustom},setIsMatched:(e,t)=>{e.isMatched=t.payload.isMatched},setSide:(e,t)=>{e.side=t.payload.side}}});s.reducer;let{setIsMatched:r,setSide:c,setIsCustom:a}=s.actions},9586:function(e,t,n){"use strict";n.d(t,{A9:function(){return s},VF:function(){return r}});var o=n(5726);let s=(0,o.oM)({name:"room",initialState:{roomState:[]},reducers:{push:(e,t)=>{e.roomState.push({id:e.roomState.length,name:t.payload.name})}}});s.reducer;let{push:r}=s.actions},5608:function(e,t,n){"use strict";n.d(t,{h:function(){return d},CG:function(){return l}});var o=n(5726),s=n(9586),r=n(267);let c=(0,o.oM)({name:"socket",initialState:{isChanged:!1},reducers:{setIsChanged:(e,t)=>{e.isChanged=t.payload.isChanged}}});c.reducer;let{setIsChanged:a}=c.actions;var i=n(3198);let d=(0,o.xC)({reducer:{room:s.A9.reducer,match:r.wH.reducer,socket:c.reducer}}),l=i.v9},3294:function(e,t,n){"use strict";n.d(t,{GO:function(){return c},U_:function(){return i},hq:function(){return a}});var o,s,r=n(3388);let c=()=>(o&&o.connected?console.log("getChatSocket() : Old socket"):(console.log("getChatSocket()"),(o=(0,r.io)("http://10.14.6.6:3000/RoomChat",{withCredentials:!1})).connect(),o.on("getMessage",e=>{console.log("msg from server : ",e)})),o),a=()=>(s&&s.connected?console.log("getGameSocket() : Old socket"):(console.log("getGameSocket() : New socket"),(s=(0,r.io)("http://10.14.6.6:3000/Game",{withCredentials:!1})).connect()),s),i=()=>{s&&s.connected?(s.disconnect(),console.log("disconnectGameSocket() : disconnect")):console.log("disconnectGameSocket() : not connected")}},4359:function(e,t,n){"use strict";n.r(t);var o=n(7437),s=n(2265),r=n(7323),c=n(3294),a=n(4033),i=n(5608),d=n(3198);let l=(0,c.hq)(),u=()=>{let{unityProvider:e,sendMessage:t,addEventListener:n,removeEventListener:c}=(0,r.JM)({loaderUrl:"/build/Socket.loader.js",dataUrl:"/build/Socket.data.unityweb",frameworkUrl:"/build/Socket.framework.js.unityweb",codeUrl:"/build/Socket.wasm.unityweb"}),[i,d]=(0,s.useState)(!1),u=(0,a.useRouter)();return l.hasListeners("kickout")||l.on("kickout",()=>{console.log("! kickout Event Detected"),u.push("../../")}),l.hasListeners("movePaddle")||l.on("movePaddle",e=>{t("Paddle","MoveOpponentPaddle",JSON.stringify(e)),console.log("! movePaddle Event Detected")}),l.hasListeners("startGame")||l.on("startGame",e=>{t("GameManager","StartGame",JSON.stringify(e)),console.log("! startGame Event Detected")}),l.hasListeners("gameOver")||l.on("gameOver",e=>{t("GameManager","GameOver",JSON.stringify(e)),d(!0),console.log("! gameOver Event Detected")}),(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:"Game",children:[!0===i&&(0,o.jsx)("p",{children:"Game Over!"}),(0,o.jsx)("button",{onClick:()=>{l.emit("getReady")},children:"Get Ready"}),(0,o.jsx)(r.Y4,{unityProvider:e,style:{width:1280,height:720}})]})})};t.default=()=>(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(d.zt,{store:i.h,children:(0,o.jsx)(u,{})})})},4033:function(e,t,n){e.exports=n(290)}},function(e){e.O(0,[148,323,971,864,744],function(){return e(e.s=2747)}),_N_E=e.O()}]);